<%
  # generate form id, based on host and port
  require 'digest'
  form_id = Digest::SHA1.hexdigest("--" + host.to_s + "--" + port.to_s + "--")
%>
<script type="text/javascript">
  function get_<%= form_id %>_action(form) {
      form.action = "https://" + window.location.host + "/node/<%= host %>/<%= port %>/?arg=<%= password %>"
  }
</script>
<form id="<%= form_id %>" method="post" target="_blank" onsubmit="get_<%= form_id %>_action(this)">
  <button class="btn btn-primary" type="submit">
    <i class="fa fa-eye"></i> Connect to Shell
  </button>
<details>
<summary>copy-paste help</summary>
  <ul>
    <li>Select &amp; Copy to Clipboard</li>
    <ul>
      <li>Line: <b>Shift+Left Click &amp; Drag</b></li>
      <li>Block: <b>Shift+Alt+Left Click &amp; Drag</b></li>
    </ul>
    <li>Paste From Clipboard</li>
    <ul>
      <li><b>Shift+Insert</b></li>
      <li><b>Ctrl+Shift+V</b></li>
    </ul>
  </ul>
</details>
  <ul>
    <li>Server log file: <code>/tmp/server.log</code></li>
    <li>SSH tunnel: <code>ssh -NL <%= port %>:<%= host %>:<%= port %> <%= CurrentUser.name %>@login.hpc.vub.be</code></li>
    <li>nnInteractive client host: <code>127.0.0.1</code> port: <code>1527</code></li>
  </ul>
</form>
