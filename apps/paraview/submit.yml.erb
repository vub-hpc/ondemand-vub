---
batch_connect:
  template: vnc
  geometry: "<%= resolution %>"

script:
  native:
    - "--cpus-per-task=<%= global_num_cores.to_i %>"
<% if dynamic_num_gpu_slots.to_i != 0 %>
    - "--gpus-per-node=<%= dynamic_num_gpu_slots.to_i %>"
<% end %>
<% if global_bc_num_shards.to_f != 0  %>
    - "--gres=shard:<%= (global_bc_num_shards.to_f * 4).to_i %>"
<% end %>
